<!-- CloudCannon Editable Sections -->
<!-- These sections can be edited visually in CloudCannon -->

<!-- Banner Section -->
{{- if .Params.banner.enable -}}
<div class="cc-editor-section" data-cms-editor-link="cloudcannon:#banner">
  <section class="banner">
    <div class="container">
      <div class="row">
        <div class="col-lg-10 mx-auto text-center">
          <h1 class="mb-3 editable" data-cms-editor-link="cloudcannon:#banner.title">
            {{ .Params.banner.title | markdownify }}
          </h1>
          <p class="mb-4 editable" data-cms-editor-link="cloudcannon:#banner.content">
            {{ .Params.banner.content | markdownify }}
          </p>
          {{- if .Params.banner.button.enable -}}
          {{- with .Params.banner.button -}}
          <div>
            <a href="{{ .link | safeURL }}" 
               title="{{ .label }}" 
               class="btn btn-primary editable"
               data-cms-editor-link="cloudcannon:#banner.button.label">
              {{ .label }}
            </a>
          </div>
          {{- end -}}
          {{- end -}}
          {{- with .Params.banner.image -}}
          <img src="{{ . | relURL }}" 
               alt="Banner Image" 
               class="img-fluid mt-5 editable" 
               width="750px"
               data-cms-editor-link="cloudcannon:#banner.image">
          {{- end -}}
        </div>
      </div>
    </div>
  </section>
</div>
{{- end -}}

<!-- Feature Section -->
{{- if .Params.feature.enable -}}
<div class="cc-editor-section" data-cms-editor-link="cloudcannon:#feature">
  <section class="section bg-light">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-12 text-center">
          <h2 class="section-title editable" data-cms-editor-link="cloudcannon:#feature.title">
            {{ .Params.feature.title | markdownify }}
          </h2>
        </div>
        {{- range $index, $item := .Params.feature.feature_item -}}
        <div class="col-md-4 col-sm-6 mb-4">
          <div class="feature-card text-center" data-cms-editor-link="cloudcannon:#feature.feature_item[{{ $index }}]">
            <i class="{{ .icon }} mb-3 editable" data-cms-editor-link="cloudcannon:#feature.feature_item[{{ $index }}].icon"></i>
            <h4 class="mb-2 editable" data-cms-editor-link="cloudcannon:#feature.feature_item[{{ $index }}].name">
              {{ .name | title }}
            </h4>
            <p class="editable" data-cms-editor-link="cloudcannon:#feature.feature_item[{{ $index }}].content">
              {{ .content | markdownify }}
            </p>
          </div>
        </div>
        {{- end -}}
      </div>
    </div>
  </section>
</div>
{{- end -}}

<!-- Service Section -->
{{- if .Params.service.enable -}}
<div class="cc-editor-section" data-cms-editor-link="cloudcannon:#service">
  {{- range $index, $service := .Params.service.service_item -}}
  {{- if modBool $index 2 -}}
  <section class="section">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-6 order-2 order-md-1">
          <h2 class="section-title editable" data-cms-editor-link="cloudcannon:#service.service_item[{{ $index }}].title">
            {{ .title | markdownify }}
          </h2>
          <p class="editable" data-cms-editor-link="cloudcannon:#service.service_item[{{ $index }}].content">
            {{ .content | markdownify }}
          </p>
          {{- if .button.enable -}}
          {{- with .button -}}
          <a href="{{ .link | relURL }}" 
             title="{{ .label }}" 
             class="btn-link editable"
             data-cms-editor-link="cloudcannon:#service.service_item[{{ $index }}].button.label">
            {{ .label }} <i class="fas fa-arrow-right"></i>
          </a>
          {{- end -}}
          {{- end -}}
        </div>
        <div class="col-md-6 order-1 order-md-2 mb-4 mb-md-0">
          <div class="swiper testimonial-slider">
            <div {{if gt (len .images) 1}}class="swiper-wrapper" {{end}}>
              {{- range $imgIndex, $image := .images -}}
              <div class="swiper-slide">
                <img src="{{ $image | relURL }}" 
                     alt="Service Image" 
                     class="img-fluid editable"
                     data-cms-editor-link="cloudcannon:#service.service_item[{{ $index }}].images[{{ $imgIndex }}]">
              </div>
              {{- end -}}
            </div>
            <div class="testimonial-slider-pagination mt-9 flex items-center justify-center text-center"></div>
          </div>
        </div>
      </div>
    </div>
  </section>
  {{- else -}}
  <section class="section bg-light">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-6 mb-4 mb-md-0">
          <div class="swiper testimonial-slider">
            <div {{if gt (len .images) 1}}class="swiper-wrapper" {{end}}>
              {{- range $imgIndex, $image := .images -}}
              <div class="swiper-slide">
                <img src="{{ $image | relURL }}" 
                     alt="Service Image" 
                     class="img-fluid editable"
                     data-cms-editor-link="cloudcannon:#service.service_item[{{ $index }}].images[{{ $imgIndex }}]">
              </div>
              {{- end -}}
            </div>
            <div class="testimonial-slider-pagination mt-9 flex items-center justify-center text-center"></div>
          </div>
        </div>
        <div class="col-md-6">
          <h2 class="section-title editable" data-cms-editor-link="cloudcannon:#service.service_item[{{ $index }}].title">
            {{ .title | markdownify }}
          </h2>
          <p class="editable" data-cms-editor-link="cloudcannon:#service.service_item[{{ $index }}].content">
            {{ .content | markdownify }}
          </p>
          {{- if .button.enable -}}
          {{- with .button -}}
          <a href="{{ .link | relURL }}" 
             title="{{ .label }}" 
             class="btn-link editable"
             data-cms-editor-link="cloudcannon:#service.service_item[{{ $index }}].button.label">
            {{ .label }} <i class="fas fa-arrow-right"></i>
          </a>
          {{- end -}}
          {{- end -}}
        </div>
      </div>
    </div>
  </section>
  {{- end -}}
  {{- end -}}
</div>
{{- end -}}

<!-- Screenshot Section -->
{{- if .Params.screenshot.enable -}}
<div class="cc-editor-section" data-cms-editor-link="cloudcannon:#screenshot">
  <section class="section pb-0">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto text-center">
          <h2 class="section-title editable" data-cms-editor-link="cloudcannon:#screenshot.title">
            {{ .Params.screenshot.title | markdownify }}
          </h2>
        </div>
      </div>
    </div>
    {{- with .Params.screenshot.image -}}
    <img src="{{ . | relURL }}" 
         alt="Screenshot" 
         class="img-fluid w-100 editable"
         data-cms-editor-link="cloudcannon:#screenshot.image">
    {{- end -}}
  </section>
</div>
{{- end -}}

<!-- Call to Action Section -->
{{- if .Params.call_to_action.enable -}}
<div class="cc-editor-section" data-cms-editor-link="cloudcannon:#call_to_action">
  <section class="section">
    <div class="container section shadow rounded-lg px-4">
      <div class="row align-items-center justify-content-center text-center text-md-left">
        <div class="col-lg-4 col-md-5 mb-4 mb-md-0">
          <img src="{{ .Params.call_to_action.image | relURL }}" 
               alt="Call to Action" 
               class="img-fluid w-100 editable"
               data-cms-editor-link="cloudcannon:#call_to_action.image">
        </div>
        <div class="col-lg-5 col-md-6">
          <h2 class="section-title editable" data-cms-editor-link="cloudcannon:#call_to_action.title">
            {{ .Params.call_to_action.title | markdownify }}
          </h2>
          {{- with .Params.call_to_action.content -}}
          <p class="mb-4 editable" data-cms-editor-link="cloudcannon:#call_to_action.content">
            {{ . | markdownify }}
          </p>
          {{- end -}}
          {{- if .Params.call_to_action.button.enable -}}
          {{- with .Params.call_to_action.button -}}
          <a href="{{ .link | relURL }}" 
             title="{{ .label }}" 
             class="btn btn-primary editable"
             data-cms-editor-link="cloudcannon:#call_to_action.button.label">
            {{ .label }}
          </a>
          {{- end -}}
          {{- end -}}
        </div>
      </div>
    </div>
  </section>
</div>
{{- end -}}

<style>
/* CloudCannon Visual Editor Styles */
.cc-editor-section {
  position: relative;
}

.cc-editor-section:hover {
  outline: 2px dashed #007acc;
  outline-offset: 4px;
}

.cc-editor-section::before {
  content: "Click to edit this section";
  position: absolute;
  top: -30px;
  left: 0;
  background: #007acc;
  color: white;
  padding: 4px 8px;
  font-size: 12px;
  border-radius: 3px;
  opacity: 0;
  transition: opacity 0.2s;
  z-index: 1000;
}

.cc-editor-section:hover::before {
  opacity: 1;
}

.editable {
  position: relative;
}

.editable:hover {
  outline: 1px dashed #007acc;
  outline-offset: 2px;
  cursor: pointer;
}
</style>